<!DOCTYPE html>
<html>
<head>
    <title>Dobre praktyki tworzenia oprogramowania</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Arial);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
      body { font-family: 'Arial'; }
      h1, h2, h3 {
        font-family: 'Arial';
        font-weight: normal;
      }
      .inverse {
        color: white;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      /* Two-column layout */
      .left-column {
        width: 45%;
        height: 92%;
        float: left;
        padding-right: 1em;
      }
      .left-column h2:last-of-type, .left-column h3:last-child {
        color: #000;
      }
      .right-column {
        width: 45%;
        float: right;
        padding-left: 1em;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
</head>
<body>
<textarea id="source">

name: inverse
layout: true
class: inverse

---
layout: false
class: center middle

# Dobre praktyki tworzenia oprogramowania

---
layout: false

## Kim jestem
---

## Kontrakt


---
## Gdzie jesteśmy

Były podstawy na preworku

Znamy składnie dwóch języków (znamy?)

Czy to już jest umiejętność programowania?

---

## Program

Jakość

Czysty kod

Zespołowość

TDD

Object callisthenics

---

layout: false
class: center middle

## Jakość

---

## Jakość

Co to dla Was jest?

Skąd wiecie że Wasza obecna praca ma właściwą jakość?

---

## Jakość w programowaniu

Po czym poznajecie, że Wasz program jest dobrej jakości?

---

layout: false
class: center middle

## Jakość - wymiar zewnętrzny

---

## Aspekty

Dostępność

Funkcje

Poprawność działania

---

layout: false
class: center middle

## Jakość "zewnętrzna" - czyli co?

---

layout: false
class: center middle

## Jakość "zewnętrzna" - czyli co?
### Spełnione oczekiwania klientów

---

## Sposoby zapewnienia

Testy automatyczne

Testy ręczne

Testy wydajnościowe

Monitoring działającego systemu

---
layout: false
class: center middle

## Jakość - wymiar wewnętrzny

---
## Jakość - wymiar wewnętrzny

Czy mieliście wrażenie, że kod Waszego programu przeszkadza Wam w programowaniu

---

## Aspekty

Łatwe wprowadzanie nowych funkcji

Łatwe poprawianie błędów

Łatwość dostarczania ww. zmian klientowi

Łatwość wdrożenia nowych programistów

---
layout: false
class: center middle

## Jakość "wewnętrzna" - czyli co?

---

layout: false
class: center middle

## Jakość "wewnętrzna" - czyli co?
### System tani w utrzymaniu!

---

## Sposoby zapewnienia (niektóre)

Testy automatyczne

Czytelny i zrozumiały kod źródłowy

Programowanie w parach (pair programming)

Przegląd kodu (code review)

---

layout: false
class: center middle

## Czysty kod (clean code)

Kod łatwy do zrozumienia i do zmiany

(czyli właściwie co?)

---

layout: false
class: center middle

## Zobaczmy to na przykładzie

---
## Ćwiczenie - czytelność kodu

Otwórz klasę `com.inqoo.quality.clean.example.bad.Calc`

Uważnie przeczytaj kod metody `calculate`

Co robi ta klasa? Jaka jest jej odpowiedzialność?

Zastanów się na ile łatwa do zrozumienia jest ta klasa

Wskaż co ułatwia Ci zrozumienie tego kodu, a co utrudnia

Co by pomogło Ci zrozumieć ten kod

Spróbuj

10 minut

---

## Ćwiczenie - czytelność kodu

Jak można ten kod poprawić?

---
## Ćwiczenie - czytelność kodu

Otwórz klasę `com.inqoo.quality.clean.example.good.PITCalculator`

Uważnie przeczytaj kod metody `calculate`

Co robi ta klasa? Jaka jest jej odpowiedzialność?

Zastanów się na ile łatwa do zrozumienia jest ta klasa

Wskaż co ułatwia Ci zrozumienie tego kodu, a co utrudnia

Co by pomogło Ci zrozumieć ten kod

10 minut

---

## Ćwiczenie - wnioski

Który kod był bardziej czytelny?

Dlaczego?

Czy o którymś z nich można powiedzieć "idealny"?

---

## Czysty kod

Łatwy do zrozumienia

Samodokumentujący

"Czyta się jak książkę" - test Ivony

---

## Czysty kod

Zrozumiałe nazwy klas, metod i zmiennych

Budowa funkcji (metod)

Klasy

Komentarze

Formatowanie

Obsługa błędów

---

## Dobre nazwy

Opisowe

Możliwie szczegółowe

Nadające sens

Mające znaczenie

Zmniejszają do minimum liczbę potrzebnych komentarzy

---

## Dobre nazwy

Klasy - rzeczowniki
> np. Employee, Reader, Student, Doctor

Metody - czasowniki

> np. save, send, calculate

Zmienne - rzeczowniki

> Litera jako nazwa tylko jako licznik pętli

---
layout: false
class: center middle

## Dobre i złe nazwy - przykłady

---

## Wyrażanie intencji

### Źle

```
int d;
// elapsed time in days
int ds;
int dsm;
int faid;
```

---
## Wyrażanie intencji

### Źle

```
int d;
// elapsed time in days
int ds;
int dsm;
int faid;
```

### Dobrze

```
int elapsedTimeInDays;
int daysSinceCreation;
int daysSinceModification;
int fileAgeInDays;
```
---
## Dezinformacja

### Źle

```
Customer[] customerList;
Table theTable;
```
---
## Dezinformacja

### Źle

```
Customer[] customerList;
Table theTable;
```

### Dobrze

```
Customer[] customers;
Table customers;
```
---

## Długość nazw

### Źle

```
List<Customer> theCustomersListWithAllCustomersIncludedWithoutFilter;
```
---

## Długość nazw

### Źle

```
List<Customer> theCustomersListWithAllCustomersIncludedWithoutFilter;
```

### Dobrze

```
List<Customer> allCustomers

```
---

## Spójność nazw

### Źle

```

void LoadSingleData()
void FetchDataFiltered()
void GetAllData()

```
---

## Spójność nazw

### Źle

```

void LoadSingleData()
void FetchDataFiltered()
void GetAllData()

```

### Dobrze

```

void GetSingleData()
void GetDataFiltered()
void GetAllData()

```

---
## Nazwy dziedzinowe

### Źle
```
public class EntitiesRelation {
    Entity o1;
    Entity o2;
}
```
---
## Nazwy dziedzinowe

### Źle
```
public class EntitiesRelation {
    Entity o1;
    Entity o2;
}
```
### Dobrze
```
public class ProductWithCategory
{
    Product product;
    Category category;
}
```

---
## Nazwy kontekstowe

## Źle
```
class Address{
    String addressCity;
    String addressHomeNumber;
    String addressPostalCode;
}
```
### Dobrze
```
class Address{
    String city;
    String homeNumber;
    String postalCode;
}
```
---
layout: false
class: center middle

## Nazwy - ćwiczenia

---
## Ćwiczenie




---
layout: false
class: center middle

## Budowa funkcji (metod)
---
## Po czym poznać dobrą metodę?

Krótka

Mało wcięć

Robi jedną rzecz

Mało paramterów

---

## Jak pracować z metodami?

Podział metody na mniejsze

Grupowanie parametrów w klasy

Podejście top-bottom, od najbardziej ogólnych do najbardziej szczegółowych

Opakowywać złożone warunki logiczne w metody prywatne

---
layout: false
class: center middle

## Metody - przykład

---
layout: false
class: center middle

## Metody - ćwiczenie

---
layout: false
class: center middle

## Klasy

---
## Cechy dobrej klasy

Krótka

Spójna

Skupiona na zbliżonych zadaniach

Zazwyczaj ma więcej metod prywatnych niż publicznych

---
## Heurystyki związane z klasami

SOLID

Prawo Demeter

---
## SOLID

SRP - Single Responsibility Principle

OCP - Open-Closed Principle

LSP - Liskov Substitution Principle

ISP - Interface Seperation Principle

DIP - Dependency Inversion Principle

---
## SRP - Single Responsibility Principle

Klasa ma

> - pojedynczą odpowiedzialność

> - jeden powód do zmiany

no, generalnie robi jedną rzecz
---
## SRP - Single Responsibility Principle

"Robi jedną rzecz", czyli np.:

Oblicza podatek

Wypożycza książki

Jest katalogiem klientów

Przeprowadza operacje odczytu/zapisu/modyfikacji na bazie danych

---
## SRP - Single Responsibility Principle - przykłady
---
## OCP - Open-Closed Principle

Otwarta na rozszerzenia - zamknięta na modyfikacje
---
## OCP - Open-Closed Principle
---
## LSP - Liskov Substitution Principle

Przy wymianie różnych implementacji interfejsu system zachowuje się tak samo

---
## LSP - Liskov Substitution Principle
---
## ISP - Interface Seperation Principle
---
## ISP - Interface Seperation Principle
---
## DIP - Dependency Inversion Principle
---
## DIP - Dependency Inversion Principle

---
layout: false
class: center middle

## Prawo Demeter

---
layout: false
class: center middle

## Komentarze

---
## Komentarze

Nie powinny zastępować czytelnych nazw w kodzie

Kod wymagający komentarzy jest jak dowcip wymagający tłumaczenia

Powinny wyjaśniać rozumowanie za "dziwnym" miejscem w kodzie
---
layout: false
class: center middle

## Czysty kod - podsumowanie

---

## Czysty kod - podsumowanie

Odpowiadamy za to wszyscy

Wszyscy musimy żyć ze złym kodem

"Wybita szyba"

"Boy Scout Rule"

Refaktoryzacja

---
layout: false
class: center middle

## Boy Scout Rule

Leave your code better than you found it

---
layout: false
class: center middle

## Boy Scout Rule

Leave your code better than you found it

(but not build national park around it)

---
layout: false
class: center middle

## Refaktoryzacja

ulepszanie struktury istniejącego kodu, bez zmiany jego zachowania

---
## Techniki refaktoryzacji (niektóre :) )

Zmiana nazwy zmiennej

Ekstrakcja metody

Ekstrakcja klasy


---
layout: false
class: center middle

## TDD
---
## TDD

Red - green - refactor

BDD

---
## Budowa testu

Given

When

Then
---
## Czytelność testu

(przykład ścierwa)

---

## Czytelny test

(fixtures, assertions)

---
## Test fixtures

---
## Assertions


---
layout: false
class: center middle

## Zespołowość

---

## Zespołowość

Nie pracujemy w próżni

Odpowiadamy za całość jako zespół!

---

## Programowanie w parach/w tłumie

Cel: natychmiastowa informacja zwrotna o jakości kodu

Jeden robi jak się patrzy, reszta patrzy jak się robi

Częste zmiany ról

---

layout: false
class: center middle

## Programowanie w parach/w tłumie - ćwiczenie


---

## Przeglądanie kodu (code review)

Cele:

- informacja zwrotna o jakości kodu

- komunikacja w zespole

---

## Przeglądanie kodu (code review) - zadanie



---
## Materiały dodatkowe

TDD by Example

Kata Oli Kunysz

Kata Sandro Mancuso

Pair programming pragmatycznie - Szabel

Code review pragmatycznie - Sebastian Malaca

---

class: center middle

# Thank you!

</textarea>
<script src="https://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript"></script>
<script type="text/javascript">
      var slideshow = remark.create({
        countIncrementalSlides: false
      });
    </script>
</body>
</html>