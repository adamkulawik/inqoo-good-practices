<!DOCTYPE html>
<html>
<head>
    <title>Dobre praktyki tworzenia oprogramowania</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Arial);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
      body { font-family: 'Arial'; }
      h1, h2, h3 {
        font-family: 'Arial';
        font-weight: normal;
      }
      .inverse {
        color: white;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      /* Two-column layout */
      .left-column {
        width: 45%;
        height: 92%;
        float: left;
        padding-right: 1em;
      }
      .left-column h2:last-of-type, .left-column h3:last-child {
        color: #000;
      }
      .right-column {
        width: 45%;
        float: right;
        padding-left: 1em;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
</head>
<body>
<textarea id="source">

name: inverse
layout: true
class: inverse

---
layout: false
class: center middle

# Dobre praktyki tworzenia oprogramowania

---
layout: false

## Kim jestem
---

## Kontrakt


---
## Gdzie jesteśmy

Były podstawy na preworku

Znamy składnie dwóch języków (znamy?)

Czy to już jest umiejętność programowania?

---

## Program

Jakość

Czysty kod

> - Nazewnictwo
> - Budowa funkcji (metod)
> - Komentarze
> - Klasy

TDD

Zespołowość

Object callisthenics

---

layout: false
class: center middle

## Jakość

---

## Jakość

Co to dla Was jest?

Po czym poznajecie, że Wasz program jest dobrej jakości?

---

layout: false
class: center middle

## Jakość - wymiar zewnętrzny

---

## Aspekty

Dostępność

Funkcje

Poprawność działania

---

layout: false
class: center middle

## Jakość "zewnętrzna" - czyli co?

---

layout: false
class: center middle

## Jakość "zewnętrzna" - czyli co?
## Spełnione oczekiwania klientów

---

## Sposoby zapewnienia

Testy automatyczne

Testy ręczne

Testy wydajnościowe

Monitoring działającego systemu

---
layout: false
class: center middle

## Jakość - wymiar wewnętrzny

---

## Aspekty

Łatwe wprowadzanie nowych funkcji

Łatwe poprawianie błędów

Łatwość dostarczania ww. zmian klientowi

Łatwość wdrożenia nowych programistów

---
layout: false
class: center middle

## Jakość "wewnętrzna" - czyli co?

---

layout: false
class: center middle

## Jakość "wewnętrzna" - czyli co?
## System tani w utrzymaniu!

---

## Sposoby zapewnienia (niektóre)

Testy automatyczne

Czytelny i zrozumiały kod źródłowy

Programowanie w parach (pair programming)

Przegląd kodu (code review)

---

layout: false
class: center middle

## Czysty kod (clean code)

Kod łatwy do zmiany i do zrozumienia

---

layout: false
class: center middle

## Czysty kod (clean code)

Kod łatwy do zrozumienia i do zmiany

(czyli właściwie co?)

---

## Czysty kod

Łatwy do zrozumienia

Samodokumentujący

"Czyta się jak książkę"

Bardzo kontekstowy

---
```
public class Calc {
    public BigDecimal get(BigDecimal base) {
        BigDecimal res;
        if (base.doubleValue() <= 8000) {
            res =  BigDecimal.ZERO;
        } else if (base.doubleValue() >= 8001 && base.doubleValue() <= 13000) {
            res =  BigDecimal.valueOf(base.doubleValue() * 0.17 -
                    (1360 - 834.88 * (base.doubleValue() - 8000) / 5000)).setScale(0, RoundingMode.HALF_UP);
        } else if (base.doubleValue() >= 13001 && base.doubleValue() <= 85528) {
            res =  BigDecimal.valueOf(base.doubleValue() * 0.17 - 525.12).setScale(0, RoundingMode.HALF_UP);
        } else if (base.doubleValue() >= 85529 && base.doubleValue() <= 127000) {
            res =  BigDecimal.valueOf(85528 * 0.17 + (base.doubleValue() - 85528) * 0.32 - (525.12 - (525.12 * (base.doubleValue() - 85528)) / 41472)).setScale(0, RoundingMode.HALF_UP);
        } else if (base.doubleValue() >= 12701 && base.doubleValue() < 1000000) {
            res =  BigDecimal.valueOf(85528 * 0.17 + (base.doubleValue() - 85528) * 0.32).setScale(0, RoundingMode.HALF_UP);
        } else {
            res =  BigDecimal.valueOf(85528 * 0.17 + (base.doubleValue() - 85528) * 0.32 + (base.doubleValue() - 1000000) * 0.04).setScale(0, RoundingMode.HALF_UP);
        }
        return res;
    }
}
```

---

## Czysty kod

> - Zrozumiałe nazwy klas, metod i zmiennych
> - Budowa funkcji (metod)
> - Klasy
> - Komentarze
> - Obsługa błędów

---

## Nazwy

Opisowe

Nadające sens

Mające znaczenie

---

## Nazwy

Klasy - rzeczowniki
> np. Osoba - Pracownik, Klient, Pacjent

Metody - czasowniki

> np. zapisz, wyślij, zarejestruj, wypożycz

Zmienne - rzeczowniki

> Litera jako nazwa tylko jako licznik pętli
---

layout: false
class: center middle

## Nazwy - ćwiczenia

---
layout: false
class: center middle

## Budowa funkcji (metod)
---
## Po czym poznać dobrą metodę?

Krótka

Mało wcięć

Robi jedną rzecz

Mało paramterów

---

## Jak to osiągnąć?

Podział metody na mniejsze

Grupowanie parametrów w klasy

---
layout: false
class: center middle

## Metody - przykład

---
layout: false
class: center middle

## Metody - ćwiczenia

---
layout: false
class: center middle

## Klasy

---
## Cechy dobrej klasy

Krótka

Spójna

Skupiona na zbliżonych zadaniach

---
## Heurystyki związane z klasami

SOLID

Prawo Demeter

---
## SOLID

SRP - Single Responsibility Principle
OCP - Open-Closed Principle
LSP - Liskov Substitution Principle
ISP - Interface Seperation Principle
DIP - Dependency Inversion Principle

---
## SRP - Single Responsibility Principle
---
## SRP - Single Responsibility Principle
---
## OCP - Open-Closed Principle

Otwarta na rozszerzenia - zamknięta na modyfikacje
---
## OCP - Open-Closed Principle
---
## LSP - Liskov Substitution Principle

Przy wymianie różnych implementacji interfejsu system zachowuje się tak samo

---
## LSP - Liskov Substitution Principle
---
## ISP - Interface Seperation Principle
---
## ISP - Interface Seperation Principle
---
## DIP - Dependency Inversion Principle
---
## DIP - Dependency Inversion Principle

---
layout: false
class: center middle

## Prawo Demeter

---
layout: false
class: center middle

## Komentarze

---
layout: false
class: center middle

## Obsługa błędów

---
layout: false
class: center middle

## TDD
---
## TDD

Red - green - refactor

BDD

---
## Budowa testu

Given

When

Then
---
## Czytelność testu

(przykład ścierwa)

---

## Czytelny test

(fixtures, assertions)

---
## Test fixtures

---
## Assertions


---
layout: false
class: center middle

## Czysty kod - podsumowanie

---

## Czysty kod - podsumowanie

Odpowiadamy za to wszyscy

Wszyscy musimy żyć ze złym kodem

"Wybita szyba"

"Boy Scout Rule"

Refaktoryzacja

---
layout: false
class: center middle

## Boy Scout Rule

Leave your code better than you found it

---
layout: false
class: center middle

## Boy Scout Rule

Leave your code better than you found it

(but not build national park around it)

---
layout: false
class: center middle

## Refaktoryzacja

ulepszanie struktury istniejącego kodu, bez zmiany jego zachowania

---
## Techniki refaktoryzacji (niektóre :) )

Zmiana nazwy zmiennej

Ekstrakcja metody

Ekstrakcja klasy

---
layout: false
class: center middle

## Zespołowość

---

## Zespołowość

Nie pracujemy w próżni

Odpowiadamy za całość jako zespół!

---

## Programowanie w parach/w tłumie

Cel: natychmiastowa informacja zwrotna o jakości kodu

Jeden robi jak się patrzy, reszta patrzy jak się robi

Częste zmiany ról

---

layout: false
class: center middle

## Programowanie w parach/w tłumie - ćwiczenie


---

## Przeglądanie kodu (code review)

Cele:

- informacja zwrotna o jakości kodu

- komunikacja w zespole

---

## Przeglądanie kodu (code review) - zadanie



---
## Materiały dodatkowe

TDD by Example

Kata Oli Kunysz

Kata Sandro Mancuso

Pair programming pragmatycznie - Szabel

Code review pragmatycznie - Sebastian Malaca

---

class: center middle

# Thank you!

    </textarea>
<script src="https://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript"></script>
<script type="text/javascript">
      var slideshow = remark.create({
        countIncrementalSlides: false
      });
    </script>
</body>
</html>